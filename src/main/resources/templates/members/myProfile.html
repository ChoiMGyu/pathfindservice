<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header}"/>
<body>
<div class="container">
    <div th:replace="~{fragments/bodyHeader :: bodyHeader}"/>
    <div class="header p-5 bg-body-tertiary rounded-3">
        <div class="text-center">
            <div th:if="${message}" class="alert alert-info alert-dismissible fade show mt-3" role="alert">
                <span class="text-start" th:text="${message}">수정 완료</span>
                <button id="messageBtn" type="button" class="btn-close messageBtn" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            <h2 class="text-body-emphasis mb-3">나의 프로필</h2>
            <table class="table rounded-top-3 overflow-hidden">
                <tr>
                    <td>아이디</td>
                    <td class="text-end" th:text="${memberForm.userId}"></td>
                    <td></td>
                </tr>
                <tbody>
                <tr>
                    <td>닉네임</td>
                    <!--<td class="text-end" th:text="${memberForm.nickname}"></td>-->
                    <form id="registerForm" role="form" action="/members/updateNickname" th:object="${nicknameForm}" method="post">
                    <td style="width: 57%;">
                        <div class="form-group">
                            <div class="input-group-sm">
                                <input style="text-align: right; font-size: 1rem" id="nickname" type="text"
                                       th:field="*{nickname}"
                                       class="form-control" placeholder="닉네임을 입력하세요."
                                       aria-label="닉네임을 입력하세요" aria-describedby="nickname check"
                                       th:class="${#fields.hasErrors('nickname')} ? 'form-control fieldError' : 'form-control'">
                            </div>
                            <div style="width: 100%">
                            <small style="margin: 0; font-size: 14px;" id="userIdError" th:if="${#fields.hasErrors('nickname')}"
                               th:errors="*{nickname}" class="text-start text-danger">
                                Incorrect date</small>
                            </div>
                        </div>
                    </td>
                    <td class="text-end">
                        <button id="numberSend" class="btn btn-outline-secondary btn-sm rounded-pill w-75" type="submit">닉네임 변경
                        </button>
                    </td>
                    </form>
                </tr>
                <tr>
                    <td>이메일</td>
                    <td class="text-end" th:text="${memberForm.email}"></td>
                    <td class="text-end">
                        <a class="btn btn-outline-secondary btn-sm rounded-pill w-75" href="/members/updateEmail">
                            이메일 변경
                        </a>
                    </td>
                </tr>
                <tr>
                    <td>비밀번호</td>
                    <td></td>
                    <td class="text-end">
                        <button class="btn btn-outline-secondary btn-sm rounded-pill w-75" type="button"
                                onclick="location.href=''">
                            비밀번호 변경
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <a href="/members/leave" style="color: var(--bs-tertiary-color); text-decoration-line: none;">회원 탈퇴 ></a>
    </div>
    <div th:replace="~{fragments/footer :: footer}"/>
</div> <!-- /container -->
</body>
<script type="text/javascript" src="/js/messages.js"></script>
</html>